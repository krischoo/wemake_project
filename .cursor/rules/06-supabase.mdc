---
description: Supabase 서비스 및 API 사용에 관한 규칙
globs: "**/*.{ts,tsx}"
alwaysApply: false
---

# Supabase 사용 규칙

## 인증 및 권한

- Supabase Auth를 사용하여 사용자 인증을 구현하세요.
- Row Level Security(RLS)를 사용하여 데이터 접근을 제한하세요.
- 민감한 작업에는 서버 측 함수(Edge Functions)를 사용하세요.
- 인증 상태는 컨텍스트를 통해 관리하세요.

## 데이터베이스 접근

- 타입 안전성을 위해 Supabase 클라이언트와 함께 생성된 타입을 사용하세요.
- 복잡한 쿼리에는 PostgreSQL 함수를 사용하세요.
- 데이터베이스 스키마 변경은 마이그레이션을 통해 관리하세요.
- 실시간 기능이 필요한 경우 Supabase Realtime을 사용하세요.

## 스토리지

- 파일 업로드에는 Supabase Storage를 사용하세요.
- 공개 및 비공개 버킷에 대한 적절한 권한을 설정하세요.
- 이미지 변환 및 최적화에는 Supabase의 이미지 변환 기능을 사용하세요.

## 성능 최적화

- 자주 사용되는 쿼리에는 인덱스를 생성하세요.
- 대량의 데이터를 가져올 때는 페이지네이션을 사용하세요.
- 필요한 열만 선택하여 데이터 전송을 최소화하세요.
- 캐싱 전략을 구현하여 반복적인 쿼리를 줄이세요. 